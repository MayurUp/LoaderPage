!function(a){var e=a("#bg").children("canvas"),t=e[0],n=e[1],o=e[2],i=[255,255,255],r=[255,255,255];if(t.getContext){var d=t.getContext("2d"),l=n.getContext("2d"),c=o.getContext("2d"),m=Math,s=20/360*m.PI*2,w=[],h=[],f,u,g;requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a,e){setTimeout(a,1e3/60)},cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame||clearTimeout;var p=function(){f=a(window).width(),u=a(window).height(),e.each(function(){this.width=f,this.height=u})},C=function(){var a=m.sin(s),e=m.cos(s);l.clearRect(0,0,f,u);for(var t=0,n=w.length;t<n;t++){var o=w[t],i=o.x,r=o.y,d=o.radius,p=o.speed,i=i>f+d?-d:i<-d?f+d:i+a*p,r=r>u+d?-d:r<-d?u+d:r-e*p;o.x=i,o.y=r;var p=o.color,o=o.alpha,b=l.createRadialGradient(i,r,d,i,r,0);b.addColorStop(0,"rgba("+p[0]+","+p[1]+","+p[2]+","+(o-.8)+")"),b.addColorStop(1,"rgba("+p[0]+","+p[1]+","+p[2]+","+(o-.8)+")"),l.beginPath(),l.arc(i,r,d,0,2*m.PI,!0),l.fillStyle=b,l.fill()}for(c.clearRect(0,0,f,u),t=0,n=h.length;t<n;t++){o=h[t],i=o.x,r=o.y,d=o.width,p=o.speed,i=i>f+d*a?-d*a:i<-d*a?f+d*a:i+a*p,r=r>u+d*e?-d*e:r<-d*e?u+d*e:r-e*p,o.x=i,o.y=r;var b=d,d=o.color,o=o.alpha,p=i+m.sin(s)*b,b=r-m.cos(s)*b,A=c.createLinearGradient(i,r,p,b);A.addColorStop(0,"rgba("+d[0]+","+d[1]+","+d[2]+","+(o-.8)+")"),A.addColorStop(1,"rgba("+d[0]+","+d[1]+","+d[2]+","+(o-.4)+")"),c.beginPath(),c.moveTo(i,r),c.lineTo(p,b),c.lineWidth=1,c.lineCap="round",c.strokeStyle=A,c.stroke()}g=requestAnimationFrame(C)},b=function(){h=[];for(var a=0;6>a;a++)for(var e=0;3>e;e++);for(a=0;8>a;a++)for(e=0;7>e;e++)h.push({x:m.random()*f,y:m.random()*u,width:m.random()*(200+5*e)+(30+5*e),color:r,alpha:.5*m.random()+(.3-.1*e),speed:10*(1+.5*e)});cancelAnimationFrame(g),g=requestAnimationFrame(C),d.clearRect(0,0,f,u),a=[],a[0]=d.createRadialGradient(.3*f,.1*u,0,.3*f,.1*u,.9*f),a[0].addColorStop(0,"rgb(0, 26, 77)"),a[0].addColorStop(1,"transparent"),d.translate(f,0),d.scale(-1,1),d.beginPath(),d.fillStyle=a[0],d.fillRect(0,0,f,u),a[1]=d.createRadialGradient(.1*f,.1*u,0,.3*f,.1*u,f),a[1].addColorStop(0,"rgb(0, 150, 240)"),a[1].addColorStop(.8,"transparent"),d.translate(f,0),d.scale(-1,1),d.beginPath(),d.fillStyle=a[1],d.fillRect(0,0,f,u),a[2]=d.createRadialGradient(.1*f,.5*u,0,.1*f,.5*u,.5*f),a[2].addColorStop(0,"rgb(40, 20, 105)"),a[2].addColorStop(1,"transparent"),d.beginPath(),d.fillStyle=a[2],d.fillRect(0,0,f,u)};a(document).ready(function(){p(),b()}),a(window).resize(function(){p(),b()})}}(jQuery);